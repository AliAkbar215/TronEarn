{"ast":null,"code":"import _slicedToArray from\"/home/hassan/blocTechProj/TRON_EARN/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect}from\"react\";import{useState}from\"react\";import{environment}from\"../../environment\";import moment from\"moment\";import{useSelector,useDispatch}from\"react-redux\";// const TronWeb = require(\"tronweb\");\n// const TronGrid = require(\"trongrid\");\n/**\n * @author\n * @function\n **/import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Income=function Income(_ref){var tronWeb=_ref.tronWeb;var _useSelector=useSelector(function(state){return state.UserReducer;}),userIdForIncome=_useSelector.userIdForIncome;// console.log(usersID,\"usersID\")\nvar _useState=useState([]),_useState2=_slicedToArray(_useState,2),eventsArray=_useState2[0],setEventsArray=_useState2[1];useEffect(function(){if(tronWeb){tronWeb.getEventResult(environment.contractAddress,{eventName:\"INCOME\"// size: 2,\n}).then(function(res){// console.log(res)\nsetEventsArray(res);},[tronWeb]).catch(function(e){});}},[tronWeb]);var EventsArray=eventsArray!==undefined&&eventsArray!==null?eventsArray:[];console.log(\"EventsArray\",EventsArray);// const  FilterArray = EventsArray.filter((id)=> Number(id.result[0]=== Number(usersID)))\nvar FilterArray=EventsArray.filter(function(i){return+i.result[0]===Number(userIdForIncome);});// console.log(userIdForIncome,\"FilterArray\")\nreturn/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"table\",{class:\"table table-bordered\",id:\"dataTable\",width:\"100%\",cellspacing:\"0\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"User\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Level1\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Amount\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Type\"}),/*#__PURE__*/_jsx(\"th\",{children:\"View Txn\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Time\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:FilterArray!=undefined?FilterArray.map(function(arr){//   console.log(arr.result,\"arr\")\nreturn/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:arr.result[0]}),/*#__PURE__*/_jsx(\"td\",{children:arr.result[2]}),/*#__PURE__*/_jsx(\"td\",{children:tronWeb.fromSun(arr.result[3])}),/*#__PURE__*/_jsx(\"td\",{children:arr.result[1]}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsxs(\"a\",{href:\"https://shasta.tronscan.org/#/transaction/\".concat(arr.transaction),target:\"_blank\",children:[arr.transaction.slice(0,9),\"....\"]})}),/*#__PURE__*/_jsx(\"td\",{children:moment.unix(arr.result[4]).format(\"MMM Do YY\")})]});}):[]})]})});};export default Income;","map":{"version":3,"sources":["/home/hassan/blocTechProj/TRON_EARN/src/Components/Income/Income.js"],"names":["React","useEffect","useState","environment","moment","useSelector","useDispatch","Income","tronWeb","state","UserReducer","userIdForIncome","eventsArray","setEventsArray","getEventResult","contractAddress","eventName","then","res","catch","e","EventsArray","undefined","console","log","FilterArray","filter","i","result","Number","map","arr","fromSun","transaction","slice","unix","format"],"mappings":"0JAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,OAASC,QAAT,KAAyB,OAAzB,CACA,OAASC,WAAT,KAA4B,mBAA5B,CACA,MAAOC,CAAAA,MAAP,KAAmB,QAAnB,CACA,OAASC,WAAT,CAAsBC,WAAtB,KAAyC,aAAzC,CACA;AACA;AACA;AACA;AACA;AACA,I,wFAEA,GAAMC,CAAAA,MAAM,CAAG,QAATA,CAAAA,MAAS,MAAiB,IAAdC,CAAAA,OAAc,MAAdA,OAAc,kBACFH,WAAW,CAAC,SAACI,KAAD,QAAWA,CAAAA,KAAK,CAACC,WAAjB,EAAD,CADT,CACtBC,eADsB,cACtBA,eADsB,CAE9B;AAF8B,cAGQT,QAAQ,CAAC,EAAD,CAHhB,wCAGvBU,WAHuB,eAGVC,cAHU,eAI9BZ,SAAS,CAAC,UAAM,CACd,GAAIO,OAAJ,CAAa,CACXA,OAAO,CACJM,cADH,CACkBX,WAAW,CAACY,eAD9B,CAC+C,CAC3CC,SAAS,CAAE,QACX;AAF2C,CAD/C,EAKGC,IALH,CAMI,SAACC,GAAD,CAAS,CACP;AACAL,cAAc,CAACK,GAAD,CAAd,CACD,CATL,CAUI,CAACV,OAAD,CAVJ,EAYGW,KAZH,CAYS,SAACC,CAAD,CAAO,CAAE,CAZlB,EAaD,CACF,CAhBQ,CAgBN,CAACZ,OAAD,CAhBM,CAAT,CAiBA,GAAIa,CAAAA,WAAW,CACbT,WAAW,GAAKU,SAAhB,EAA6BV,WAAW,GAAK,IAA7C,CAAoDA,WAApD,CAAkE,EADpE,CAEAW,OAAO,CAACC,GAAR,CAAY,aAAZ,CAA2BH,WAA3B,EACA;AAEA,GAAMI,CAAAA,WAAW,CAAGJ,WAAW,CAACK,MAAZ,CAAmB,SAACC,CAAD,CAAO,CAC5C,MAAO,CAACA,CAAC,CAACC,MAAF,CAAS,CAAT,CAAD,GAAiBC,MAAM,CAAClB,eAAD,CAA9B,CACD,CAFmB,CAApB,CAGA;AAEA,mBACE,kCACE,eACE,KAAK,CAAC,sBADR,CAEE,EAAE,CAAC,WAFL,CAGE,KAAK,CAAC,MAHR,CAIE,WAAW,CAAC,GAJd,wBAME,oCACE,mCACE,4BADF,cAEE,8BAFF,cAGE,8BAHF,cAIE,4BAJF,cAKE,gCALF,cAME,4BANF,GADF,EANF,cAiBE,uBACGc,WAAW,EAAIH,SAAf,CACGG,WAAW,CAACK,GAAZ,CAAgB,SAACC,GAAD,CAAS,CACvB;AACA,mBACE,mCACE,oBAAKA,GAAG,CAACH,MAAJ,CAAW,CAAX,CAAL,EADF,cAEE,oBAAKG,GAAG,CAACH,MAAJ,CAAW,CAAX,CAAL,EAFF,cAGE,oBAAKpB,OAAO,CAACwB,OAAR,CAAgBD,GAAG,CAACH,MAAJ,CAAW,CAAX,CAAhB,CAAL,EAHF,cAIE,oBAAKG,GAAG,CAACH,MAAJ,CAAW,CAAX,CAAL,EAJF,cAKE,iCACE,WACE,IAAI,qDAA+CG,GAAG,CAACE,WAAnD,CADN,CAEE,MAAM,CAAC,QAFT,WAIGF,GAAG,CAACE,WAAJ,CAAgBC,KAAhB,CAAsB,CAAtB,CAAyB,CAAzB,CAJH,UADF,EALF,cAaE,oBAAK9B,MAAM,CAAC+B,IAAP,CAAYJ,GAAG,CAACH,MAAJ,CAAW,CAAX,CAAZ,EAA2BQ,MAA3B,CAAkC,WAAlC,CAAL,EAbF,GADF,CAiBD,CAnBD,CADH,CAqBG,EAtBN,EAjBF,GADF,EADF,CAsDD,CArFD,CAuFA,cAAe7B,CAAAA,MAAf","sourcesContent":["import React, { useEffect } from \"react\";\nimport { useState } from \"react\";\nimport { environment } from \"../../environment\";\nimport moment from \"moment\";\nimport { useSelector, useDispatch } from \"react-redux\";\n// const TronWeb = require(\"tronweb\");\n// const TronGrid = require(\"trongrid\");\n/**\n * @author\n * @function\n **/\n\nconst Income = ({ tronWeb }) => {\n  const { userIdForIncome } = useSelector((state) => state.UserReducer);\n  // console.log(usersID,\"usersID\")\n  const [eventsArray, setEventsArray] = useState([]);\n  useEffect(() => {\n    if (tronWeb) {\n      tronWeb\n        .getEventResult(environment.contractAddress, {\n          eventName: \"INCOME\",\n          // size: 2,\n        })\n        .then(\n          (res) => {\n            // console.log(res)\n            setEventsArray(res);\n          },\n          [tronWeb]\n        )\n        .catch((e) => {});\n    }\n  }, [tronWeb]);\n  let EventsArray =\n    eventsArray !== undefined && eventsArray !== null ? eventsArray : [];\n  console.log(\"EventsArray\", EventsArray);\n  // const  FilterArray = EventsArray.filter((id)=> Number(id.result[0]=== Number(usersID)))\n\n  const FilterArray = EventsArray.filter((i) => {\n    return +i.result[0] === Number(userIdForIncome);\n  });\n  // console.log(userIdForIncome,\"FilterArray\")\n\n  return (\n    <div>\n      <table\n        class=\"table table-bordered\"\n        id=\"dataTable\"\n        width=\"100%\"\n        cellspacing=\"0\"\n      >\n        <thead>\n          <tr>\n            <th>User</th>\n            <th>Level1</th>\n            <th>Amount</th>\n            <th>Type</th>\n            <th>View Txn</th>\n            <th>Time</th>\n          </tr>\n        </thead>\n\n        <tbody>\n          {FilterArray != undefined\n            ? FilterArray.map((arr) => {\n                //   console.log(arr.result,\"arr\")\n                return (\n                  <tr>\n                    <td>{arr.result[0]}</td>\n                    <td>{arr.result[2]}</td>\n                    <td>{tronWeb.fromSun(arr.result[3])}</td>\n                    <td>{arr.result[1]}</td>\n                    <td>\n                      <a\n                        href={`https://shasta.tronscan.org/#/transaction/${arr.transaction}`}\n                        target=\"_blank\"\n                      >\n                        {arr.transaction.slice(0, 9)}....\n                      </a>\n                    </td>\n                    <td>{moment.unix(arr.result[4]).format(\"MMM Do YY\")}</td>\n                  </tr>\n                );\n              })\n            : []}\n          {/* <tr>\n                          <td>Tiger Nixon</td>\n                          <td>System Architect</td>\n                          <td>Edinburgh</td>\n                          <td>61</td>\n                          <td>2011/04/25</td>\n                          <td>$320,800</td>\n                        </tr> */}\n        </tbody>\n      </table>\n    </div>\n  );\n};\n\nexport default Income;\n"]},"metadata":{},"sourceType":"module"}